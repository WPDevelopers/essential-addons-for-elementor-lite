class PolygonMorphingAnimation{constructor(t,i={}){this.defaults={duration:4,easing:"power2.inOut",loop:!0,autoStart:!0,scale:{min:1,max:1},rotation:!1,rotationSpeed:360,polygonShapes:["polygon(25% 35%, 75% 25%, 85% 75%, 15% 85%)","polygon(35% 15%, 85% 35%, 75% 85%, 25% 75%)","polygon(15% 25%, 65% 15%, 95% 65%, 45% 95%)","polygon(45% 35%, 95% 45%, 85% 95%, 35% 85%)"]},this.options={...this.defaults,...i},this.selector=t,this.$element=null,this.element=null,this.timeline=null,this.isActive=!1,this.init()}init(){try{if("undefined"==typeof jQuery)return;if("string"==typeof this.selector){if(this.$element=jQuery(this.selector),0===this.$element.length)return;this.element=this.$element[0]}else if(this.selector instanceof jQuery){if(this.$element=this.selector,0===this.$element.length)return;this.element=this.$element[0]}else{if(!(this.selector instanceof HTMLElement))return;this.element=this.selector,this.$element=jQuery(this.element)}if("undefined"==typeof gsap)return;this.applyClipPath(this.options.polygonShapes[0]),this.options.autoStart&&this.start()}catch(t){}}applyClipPath(t){this.$element&&this.$element.css({"clip-path":t,"-webkit-clip-path":t})}start(){!this.isActive&&(this.isActive=!0,this.timeline=gsap.timeline({repeat:this.options.loop?-1:0,yoyo:this.options.loop,ease:this.options.easing}),this.addMorphingAnimation(),(1!==this.options.scale.min||1!==this.options.scale.max)&&this.addScalingAnimation(),this.options.rotation&&this.addRotationAnimation())}addMorphingAnimation(){let t=this.options.polygonShapes,i=this.options.duration/t.length;t.forEach(t=>{this.timeline.to(this.element,{duration:i,clipPath:t,ease:this.options.easing})})}addScalingAnimation(){let t=gsap.timeline({repeat:-1,yoyo:!0});t.to(this.element,{duration:.5*this.options.duration,scale:this.options.scale.max,ease:"power2.inOut",transformOrigin:"center center"}).to(this.element,{duration:.5*this.options.duration,scale:this.options.scale.min,ease:"power2.inOut",transformOrigin:"center center"})}addRotationAnimation(){gsap.to(this.element,{duration:2*this.options.duration,rotation:this.options.rotationSpeed,repeat:-1,ease:"none",transformOrigin:"center center"})}stop(){this.timeline&&(this.timeline.kill(),this.timeline=null),this.isActive=!1}destroy(){this.stop(),this.$element&&this.$element.css({"clip-path":"","-webkit-clip-path":"",transform:""}),this.$element=null,this.element=null,this.timeline=null,this.isActive=!1}updateOptions(t){this.options={...this.options,...t},this.isActive&&(this.stop(),this.start())}getState(){return{isActive:this.isActive,options:this.options,element:this.element,$element:this.$element}}static getPresetShapes(){return["polygon(25% 35%, 75% 25%, 85% 75%, 15% 85%)","polygon(35% 15%, 85% 35%, 75% 85%, 25% 75%)","polygon(15% 25%, 65% 15%, 95% 65%, 45% 95%)","polygon(45% 35%, 95% 45%, 85% 95%, 35% 85%)"]}}"undefined"!=typeof module&&module.exports&&(module.exports=PolygonMorphingAnimation),"undefined"!=typeof window&&(window.PolygonMorphingAnimation=PolygonMorphingAnimation);