!function(e){e.fn.eaelmarque=function(t){var r=e.extend({speed:1,direction:"left",pauseOnHover:!0,draggable:!0},t);return this.each(function(){var t=e(this),n=t.find(".product");if(0!==n.length){var o=function e(t,r){t=gsap.utils.toArray(t);let n=(r=r||{}).onChange,o=0,a=gsap.timeline({repeat:-1,onUpdate:n&&function(){let e=a.closestIndex();o!==e&&(o=e,n(t[e],e))},paused:r.paused,defaults:{ease:"none"},onReverseComplete:()=>a.totalTime(a.rawTime()+10*a.duration())}),s=t.length,i=t[0].offsetLeft,d=[],l=[],u=[],$=[],p=0,g=r.center,f=50*(r.speed||1),c=!1===r.snap?e=>e:gsap.utils.snap(r.snap||1),_=0,m=!0===g?t[0].parentNode:gsap.utils.toArray(g)[0]||t[0].parentNode,h,x=()=>t[s-1].offsetLeft+$[s-1]/100*l[s-1]-i+u[0]+t[s-1].offsetWidth*gsap.getProperty(t[s-1],"scaleX")+(parseFloat(r.paddingRight)||0),v=()=>{let e=m.getBoundingClientRect(),r;t.forEach((t,n)=>{l[n]=parseFloat(gsap.getProperty(t,"width","px")),$[n]=c(parseFloat(gsap.getProperty(t,"x","px"))/l[n]*100+gsap.getProperty(t,"xPercent")),r=t.getBoundingClientRect(),u[n]=r.left-(n?e.right:e.left),e=r}),gsap.set(t,{xPercent:e=>$[e]}),h=x()},b,w=()=>{_=g?a.duration()*(m.offsetWidth/2)/h:0,g&&d.forEach((e,t)=>{d[t]=b(a.labels["label"+t]+a.duration()*l[t]/2/h-_)})},y=(e,t,r)=>{let n=e.length,o=1e10,a=0,s;for(;n--;)(s=Math.abs(e[n]-t))>r/2&&(s=r-s),s<o&&(o=s,a=n);return a},P=()=>{let e,r,n,o,p;for(a.clear(),e=0;e<s;e++)r=t[e],n=$[e]/100*l[e],p=(o=r.offsetLeft+n-i+u[0])+l[e]*gsap.getProperty(r,"scaleX"),a.to(r,{xPercent:c((n-p)/l[e]*100),duration:p/f},0).fromTo(r,{xPercent:c((n-p+h)/l[e]*100)},{xPercent:$[e],duration:(n-p+h-n)/f,immediateRender:!1},p/f).add("label"+e,o/f),d[e]=o/f;b=gsap.utils.wrap(0,a.duration())},C=e=>{let t=a.progress();a.progress(0,!0),v(),e&&P(),w(),e&&a.draggable?a.time(d[p],!0):a.progress(t,!0)},R;function T(e,t){t=t||{},Math.abs(e-p)>s/2&&(e+=e>p?-s:s);let r=gsap.utils.wrap(0,s,e),n=d[r];return n>a.time()!=e>p&&(n+=a.duration()*(e>p?1:-1)),(n<0||n>a.duration())&&(t.modifiers={time:b}),p=r,t.overwrite=!0,gsap.killTweensOf(R),a.tweenTo(n,t)}if(gsap.set(t,{x:0}),v(),P(),w(),window.addEventListener("resize",()=>C(!0)),a.next=e=>T(p+1,e),a.previous=e=>T(p-1,e),a.current=()=>p,a.toIndex=(e,t)=>T(e,t),a.closestIndex=e=>{let t=y(d,a.time(),a.duration());return e&&(p=t),t},a.times=d,a.progress(1,!0).progress(0,!0),r.reversed&&(a.vars.onReverseComplete(),a.reverse()),r.draggable&&"function"==typeof Draggable){R=document.createElement("div");let I=gsap.utils.wrap(0,1),E,L,O,k=()=>a.progress(I(L+(O.startX-O.x)*E)),A=()=>a.closestIndex(!0);"undefined"==typeof InertiaPlugin&&console.warn("InertiaPlugin required for momentum-based scrolling and snapping. https://greensock.com/club"),O=Draggable.create(R,{trigger:t[0].parentNode,type:"x",onPressInit(){gsap.killTweensOf(a),L=a.progress(),C(),E=1/h,gsap.set(R,{x:-(L/E)})},onDrag:k,onThrowUpdate:k,inertia:!0,maxDuration:1.5,throwResistance:2e3,snap(e){let t=-(e*E)*a.duration(),r=b(t),n=d[y(d,r,a.duration())]-r;return Math.abs(n)>a.duration()/2&&(n+=n<0?a.duration():-a.duration()),-((t+n)/a.duration()/E)},onRelease:A,onThrowComplete:A})[0],a.draggable=O}return a.closestIndex(!0),n&&n(t[p],p),a}(n.toArray(),{paused:!1,draggable:r.draggable,center:!1,speed:r.speed,reversed:"right"===r.direction,onChange(t,r){n.removeClass("-active"),e(t).addClass("-active")}});r.pauseOnHover&&t.on("mouseenter",function(){o.pause()}).on("mouseleave",function(){o.play()})}})}}(jQuery);